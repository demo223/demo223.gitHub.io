(window.webpackJsonp=window.webpackJsonp||[]).push([[171],{451:function(t,s,a){"use strict";a.r(s);var e=a(14),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"多表查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#多表查询"}},[t._v("#")]),t._v(" 多表查询")]),t._v(" "),s("h2",{attrs:{id:"多表查询介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#多表查询介绍"}},[t._v("#")]),t._v(" 多表查询介绍")]),t._v(" "),s("p",[t._v("多表查询一般分为以下3种")]),t._v(" "),s("ul",[s("li",[t._v("一对多(多对一)")]),t._v(" "),s("li",[t._v("多对多")]),t._v(" "),s("li",[t._v("一对一")])]),t._v(" "),s("h3",{attrs:{id:"一对多"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一对多"}},[t._v("#")]),t._v(" 一对多")]),t._v(" "),s("p",[t._v("案例：部门 与 员工的关系 关系: 一个部门对应多个员工，一个员工对应一个部门")]),t._v(" "),s("p",[t._v("实现：在多的一方建立外键，指向一的一方的主键")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/demo223/pictures/master/img/image-20221103170255408.png",alt:"image-20221103170255408"}})]),t._v(" "),s("h3",{attrs:{id:"多对多"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#多对多"}},[t._v("#")]),t._v(" 多对多")]),t._v(" "),s("p",[t._v("案例：学生 与 课程的关系 关系: 一个学生可以选修多门课程，一门课程也可以供多个学生选择")]),t._v(" "),s("p",[t._v("实现：建立第三张中间表，中间表至少包含两个外键，分别关联两方主键")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/demo223/pictures/master/img/image-20221103172057984.png",alt:"image-20221103172057984"}})]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" student\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    id   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("auto_increment")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("primary")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("key")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("comment")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'主键ID'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    name "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("comment")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'姓名'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("no")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("comment")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'学号'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("comment")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'学生表'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("insert")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("into")]),t._v(" student\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("values")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'张三'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2000100101'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'李四'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2000100102'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'王五'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2000100103'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'赵六'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2000100104'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" course\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    id   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("auto_increment")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("primary")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("key")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("comment")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'主键ID'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    name "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("comment")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'课程名称'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("comment")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'课程表'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("insert")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("into")]),t._v(" course\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("values")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Java'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'PHP'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MySQL'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hadoop'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n       \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" student_course\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    id        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("auto_increment")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("comment")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'主键'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("primary")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    studentid "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("not")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("null")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("comment")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'学生ID'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    courseid  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("not")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("null")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("comment")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'课程ID'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("constraint")]),t._v(" fk_courseid "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("foreign")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("key")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("courseid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("references")]),t._v(" course "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("constraint")]),t._v(" fk_studentid "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("foreign")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("key")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("studentid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("references")]),t._v(" student "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("comment")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'学生课程中间表'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("insert")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("into")]),t._v(" student_course\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("values")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br")])]),s("h3",{attrs:{id:"一对一"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一对一"}},[t._v("#")]),t._v(" 一对一")]),t._v(" "),s("p",[t._v("案例：用户 与 用户详情的关系 关系: 一对一关系，多用于单表拆分，将一张表的基础字段放在一张表中，其他详情字段放在另 一张表中，以提升操作效率")]),t._v(" "),s("p",[t._v("实现：在任意一方加入外键，关联另外一方的主键，并且设置外键为唯一的("),s("code",[t._v("unique")]),t._v(")")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/demo223/pictures/master/img/image-20221103191124201.png",alt:"image-20221103191124201"}})]),t._v(" "),s("h2",{attrs:{id:"多表查询使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#多表查询使用"}},[t._v("#")]),t._v(" 多表查询使用")]),t._v(" "),s("ul",[s("li",[t._v("连接查询\n"),s("ul",[s("li",[t._v("内连接\n"),s("ul",[s("li",[t._v("等值内连接")]),t._v(" "),s("li",[t._v("自连接")])])]),t._v(" "),s("li",[t._v("外连接\n"),s("ul",[s("li",[t._v("左外连接")]),t._v(" "),s("li",[t._v("右外连接")])])])])])]),t._v(" "),s("blockquote",[s("p",[t._v("连接查询需要建立连接条件，如果没有连接条件就会产生笛卡尔集现象。")])]),t._v(" "),s("h3",{attrs:{id:"内连接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#内连接"}},[t._v("#")]),t._v(" 内连接")]),t._v(" "),s("p",[t._v("相当于查询表A、表B交集部分数据")]),t._v(" "),s("p",[t._v("内连接的语法分为两种: 隐式内连接、显式内连接。")]),t._v(" "),s("h4",{attrs:{id:"隐式内连接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#隐式内连接"}},[t._v("#")]),t._v(" 隐式内连接")]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" 字段列表\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" table1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     table2\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" 连接条件"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("例如table1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("字段"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" table2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("字段"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("h4",{attrs:{id:"显示内连接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#显示内连接"}},[t._v("#")]),t._v(" 显示内连接")]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" 字段列表\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" table1 t1\n         "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("inner")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("join")]),t._v(" table2 t2 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" 连接条件"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("例如t1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("字段"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" t2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("字段"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h4",{attrs:{id:"使用实例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用实例"}},[t._v("#")]),t._v(" 使用实例")]),t._v(" "),s("p",[t._v("有如下实例，在员工表和部门表中查询员工的姓名、性别和部门名称")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/demo223/pictures/master/img/image-20221103195509015.png",alt:"image-20221103195509015"}})]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 需求：查询员工的姓名、性别和部门名称")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 使用隐式内连接")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gender"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dname\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     dept d\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dep_id "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("did"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 使用显示内连接")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gender"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dname\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp e\n         "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("inner")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("join")]),t._v(" dept d "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dep_id "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("did"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("p",[t._v("查询结果如下")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("name")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("gender")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("dname")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("孙悟空")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("男")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("研发部")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("蜘蛛精")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("女")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("研发部")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("猪八戒")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("男")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("市场部")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("唐僧")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("男")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("市场部")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("白骨精")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("女")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("财务部")])])])]),t._v(" "),s("blockquote",[s("p",[s("strong",[t._v("注意")]),t._v("：")]),t._v(" "),s("p",[t._v("关于"),s("strong",[t._v("表的别名")]),t._v("，表一旦起了别名就不能再使用原来的表名来指定字段了，只能使用表的别名来指定字段。")])]),t._v(" "),s("h4",{attrs:{id:"使用的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用的区别"}},[t._v("#")]),t._v(" 使用的区别")]),t._v(" "),s("p",[t._v("在多表查询中，一些数据库开发人员更喜欢使用"),s("code",[t._v("where")]),t._v("来做"),s("code",[t._v("join")]),t._v("，比如：")]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Date")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" Customers a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Sales b "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ID "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("缺点：在上面语句中，实际上是创建了两张表的笛卡尔积，所有可能的组合都会被创建出来。在笛卡尔连接中，在上面的例子中，如果有"),s("code",[t._v("1000")]),t._v("顾客和"),s("code",[t._v("1000")]),t._v("条销售记录，这个查询会先产生"),s("code",[t._v("1000000")]),t._v("个结果，然后通过正确的 ID过滤出"),s("code",[t._v("1000")]),t._v("条记录。 这是一种低效利用数据库资源，数据库多做100倍的工作。 在大型数据库中，笛卡尔连接是一个大问题，对两个大表的笛卡尔积会创建数10亿或万亿的记录。")]),t._v(" "),s("p",[t._v("为了避免创建笛卡尔积，应该使用"),s("code",[t._v("inner join")]),t._v(" ：")]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Date")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" Customers a "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INNER")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("JOIN")]),t._v(" Sales b "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ON")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ID "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("优点：如上面语句，使用"),s("code",[t._v("inner join")]),t._v(" 这样数据库就只产生等于ID 的1000条目标结果。增加了查询效率。")]),t._v(" "),s("p",[t._v("有些数据库系统会识别出 "),s("code",[t._v("where")]),t._v("连接并自动转换为 "),s("code",[t._v("inner join")]),t._v("。在这些数据库系统中，"),s("code",[t._v("where")]),t._v("连接与"),s("code",[t._v("inner join")]),t._v("就没有性能差异。但是， INNER JOIN 是所有数据库都能识别的，因此"),s("code",[t._v("DBA")]),t._v("会建议在你的环境中使用它。")]),t._v(" "),s("h3",{attrs:{id:"外连接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#外连接"}},[t._v("#")]),t._v(" 外连接")]),t._v(" "),s("p",[t._v("对于上面的查询结果观察可以看出没有白龙马的数据，由于白龙马不存在外键(为"),s("code",[t._v("null")]),t._v(")导致最终的查询结果中不存在白龙马的数据，导致数据丢失，所以如果想要保留白龙马的数据则需要使用外连接")]),t._v(" "),s("p",[t._v("外连接分为两种，分别是：左外连接 和 右外连接。")]),t._v(" "),s("h4",{attrs:{id:"左外连接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#左外连接"}},[t._v("#")]),t._v(" 左外连接")]),t._v(" "),s("p",[t._v("左外连接相当于查询表1(左表)的所有数据，当然也包含表1和表2交集部分的数据。")]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" 字段列表\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" table1 t1 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("left")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("outer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("join")]),t._v(" table2 t2 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" 连接条件"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h4",{attrs:{id:"右外连接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#右外连接"}},[t._v("#")]),t._v(" 右外连接")]),t._v(" "),s("p",[t._v("右外连接相当于查询表2(右表)的所有数据，当然也包含表1和表2交集部分的数据")]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" 字段列表\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" table1 t1 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("right")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("outer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("join")]),t._v(" table2 t2 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" 连接条件"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("blockquote",[s("p",[t._v("注意：")]),t._v(" "),s("p",[t._v("​         左外连接和右外连接是可以相互替换的，只需要调整在连接查询时"),s("code",[t._v("SQL")]),t._v("语句中的表结构的顺序即可。开发中更偏向于使用左外连接。")])]),t._v(" "),s("h4",{attrs:{id:"使用实例-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用实例-2"}},[t._v("#")]),t._v(" 使用实例")]),t._v(" "),s("p",[t._v("查询"),s("code",[t._v("emp")]),t._v("表的所有数据，和对应的部门信息。数据及表格和上面的内连接表格一致。")]),t._v(" "),s("p",[t._v("由于需求中提到，要查询"),s("code",[t._v("emp")]),t._v("的所有数据，所以是不能内连接查询的，需要考虑使用外连接查询。")]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 需求：查询所有员工的和员工的部门信息，没有部门的员工信息也要查询出来")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dname\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp e "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("left")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("join")]),t._v(" dept d "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("did "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dep_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 上面的是左外连接")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 下面的是右外连接")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dname\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" dept d  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("right")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("join")]),t._v(" emp e "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dep_id "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("did"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("p",[t._v("查询的结果是一样的")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("id")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("name")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("gender")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("salary")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("join_date")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("dep_id")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("dname")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("1")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("孙悟空")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("男")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("7200")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2013-02-24")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("1")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("研发部")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("2")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("猪八戒")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("男")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("3600")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2010-12-02")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("市场部")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("3")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("唐僧")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("男")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("9000")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2008-08-08")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("市场部")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("4")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("白骨精")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("女")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("5000")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2015-10-07")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("3")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("财务部")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("5")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("蜘蛛精")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("女")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("4500")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2011-03-14")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("1")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("研发部")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("6")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("小白龙")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("男")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2500")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2011-02-14")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("NULL")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("NULL")])])])]),t._v(" "),s("h4",{attrs:{id:"关于左连接left-join和where"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关于左连接left-join和where"}},[t._v("#")]),t._v(" 关于左连接"),s("code",[t._v("left join")]),t._v("和"),s("code",[t._v("where")])]),t._v(" "),s("p",[t._v("数据库在通过连接两张或多张表来返回记录时，都会生成一张中间的"),s("strong",[t._v("临时表")]),t._v("，然后再将这张临时表返回给用户。")]),t._v(" "),s("p",[t._v("在使用"),s("code",[t._v("left join")]),t._v("时，"),s("code",[t._v("on")]),t._v("和"),s("code",[t._v("where")]),t._v("条件的区别如下：")]),t._v(" "),s("ol",[s("li",[s("strong",[s("code",[t._v("on")]),t._v("条件是在生成临时表时使用的条件，它不管"),s("code",[t._v("on")]),t._v("中的条件是否为真，都会返回左边表中的记录")]),t._v("。")]),t._v(" "),s("li",[s("strong",[s("code",[t._v("where")]),t._v("条件是在临时表生成好后，再对临时表进行过滤的条件")]),t._v("。这时已经没有"),s("code",[t._v("left join")]),t._v("的含义（必须返回左边表的记录）了，"),s("strong",[t._v("条件不为真的就全部过滤掉")]),t._v("。")])]),t._v(" "),s("h2",{attrs:{id:"自连接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自连接"}},[t._v("#")]),t._v(" 自连接")]),t._v(" "),s("p",[t._v("自连接查询，顾名思义，就是自己连接自己，也就是把一张表连接查询多次。")]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" 字段列表 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" 表名 t1 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("join")]),t._v(" t1 表名 t2 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" 连接条件\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("对于自连接查询，可以是内连接查询，也可以是外连接查询。")]),t._v(" "),s("blockquote",[s("p",[t._v("注意：")]),t._v(" "),s("p",[t._v("自连接查询的时候，必须要为表起别名，否则不清楚到底是哪一个表的字段。")])]),t._v(" "),s("p",[t._v("例如：")]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 自连接(内连接方式)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" tb_user a "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" tb_user b "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 自连接(外连接方式)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" tb_user a "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("left")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("join")]),t._v(" tb_user b "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[t._v("查询结果如下")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("name")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("age")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("name")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("age")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("张三")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("45")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("张三")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("45")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("李四")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("35")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("李四")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("35")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("王五")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("55")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("王五")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("55")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("赵六")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("50")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("赵六")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("50")])])])]),t._v(" "),s("h2",{attrs:{id:"联合查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#联合查询"}},[t._v("#")]),t._v(" 联合查询")]),t._v(" "),s("p",[t._v("对于"),s("code",[t._v("union")]),t._v("查询，就是把多次查询的结果合并起来，形成一个新的查询结果集。")]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" 字段列表 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" 表"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("union")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("all")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" 字段列表 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" 表"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("对于联合查询的多张表的列数必须保持一致，字段类型也需要保持一致。")]),t._v(" "),s("p",[s("strong",[s("code",[t._v("union all")]),t._v(" 会将全部的数据直接合并在一起，"),s("code",[t._v("union")]),t._v(" 会对合并之后的数据去重")]),t._v("。")]),t._v(" "),s("p",[t._v("例如有一个学生表"),s("code",[t._v("student")]),t._v("和一个老师表"),s("code",[t._v("teacher")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("id")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("name")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("age")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("1")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("张三")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("12")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("2")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("李四")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("23")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("3")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("王五")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("28")])])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("id")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("name")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("age")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("salary")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("1")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("马老师")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("56")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("12000")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("2")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("王老师")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("32")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("25000")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("3")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("李老师")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("26")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("13000")])])])]),t._v(" "),s("p",[t._v("将2个表进行合并")]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" student s\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("union")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("all")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" teacher t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("blockquote",[s("p",[s("strong",[t._v("注意")]),t._v("：")]),t._v(" "),s("ol",[s("li",[t._v("在进行联合查询的时候，2个表的字段的类型要一样，如果字段的数量不一致会报错。")]),t._v(" "),s("li",[t._v("使用"),s("code",[t._v("union")]),t._v("命令时需要注意，只能在最后使用一个"),s("code",[t._v("order by")]),t._v("命令，将两个查询结果合在一起之后，再进行排序！绝对不能写两个"),s("code",[t._v("order by")]),t._v("命令。")])])]),t._v(" "),s("h2",{attrs:{id:"子查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#子查询"}},[t._v("#")]),t._v(" 子查询")]),t._v(" "),s("p",[s("code",[t._v("SQL")]),t._v("语句中嵌套"),s("code",[t._v("select")]),t._v("语句，称为嵌套查询，又称子查询")]),t._v(" "),s("p",[t._v("根据子查询结果不同，分为：")]),t._v(" "),s("ol",[s("li",[t._v("标量子查询（子查询结果为单个值）")]),t._v(" "),s("li",[t._v("列子查询(子查询结果为一列)")]),t._v(" "),s("li",[t._v("行子查询(子查询结果为一行)")]),t._v(" "),s("li",[t._v("表子查询(子查询结果为多行多列)")])]),t._v(" "),s("p",[t._v("根据子查询位置，分为：")]),t._v(" "),s("ol",[s("li",[s("code",[t._v("where")]),t._v("之后")]),t._v(" "),s("li",[s("code",[t._v("from")]),t._v("之后")]),t._v(" "),s("li",[s("code",[t._v("select")]),t._v("之后")])]),t._v(" "),s("p",[t._v("数据库中的数据")]),t._v(" "),s("p",[t._v("部门表"),s("code",[t._v("dept")]),t._v("如下")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("did")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("dname")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("1")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("研发部")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("2")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("市场部")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("3")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("财务部")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("4")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("销售部")])])])]),t._v(" "),s("p",[t._v("员工表"),s("code",[t._v("emp")]),t._v("如下")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("id")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("name")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("gender")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("salary")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("join_date")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("dep_id")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("1")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("孙悟空")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("男")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("7200")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2013-02-24")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("1")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("2")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("猪八戒")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("男")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("3600")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2010-12-02")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("3")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("唐僧")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("男")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("9000")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2008-08-08")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("4")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("白骨精")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("女")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("5000")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2015-10-07")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("3")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("5")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("蜘蛛精")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("女")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("4500")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2011-03-14")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("1")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("6")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("小白龙")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("男")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2500")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2011-02-14")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("NULL")])])])]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("标量子查询")])]),t._v(" "),s("p",[t._v("子查询返回的结果是单个值（数字、字符串、日期等），最简单的形式，这种子查询称为标量子查询。")]),t._v(" "),s("p",[t._v("常用的操作符："),s("code",[t._v("=")]),t._v(" "),s("code",[t._v("<>")]),t._v(" "),s("code",[t._v(">")]),t._v(" "),s("code",[t._v(">=")]),t._v(" "),s("code",[t._v("<")]),t._v(" "),s("code",[t._v("<=")])]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 需求：查询工资高于猪八戒的员工信息，使用子查询")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" salary "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" salary "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'猪八戒'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("标量子查询结果(单个值)")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("salary")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("3600")])])])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("列子查询")])]),t._v(" "),s("p",[t._v("子查询返回的结果是一列（可以是多行），这种子查询称为列子查询。")]),t._v(" "),s("p",[t._v("常用的操作符："),s("code",[t._v("in")]),t._v("、"),s("code",[t._v("not in")]),t._v(" 、 "),s("code",[t._v("any")]),t._v(" 、"),s("code",[t._v("some")]),t._v(" 、 "),s("code",[t._v("all")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("操作符")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("in")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("在指定的集合范围内，多选一")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("not in")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("不在指定的范围内")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("any")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("子查询的返回列表中，有一个满足即可")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("some")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("与"),s("code",[t._v("any")]),t._v("等同，使用"),s("code",[t._v("some")]),t._v("也可以使用"),s("code",[t._v("any")])])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("all")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("子查询返回列表的所有值都必须满足")])])])]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 需求：查询财务部和市场部所有的员工信息，使用子查询")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" dep_id "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" did\n                 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" dept\n                 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" dname "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'财务部'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'市场部'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[t._v("列子查询结果(多行单列)")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("did")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("2")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("3")])])])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("行子查询")])]),t._v(" "),s("p",[t._v("子查询返回的结果是一行（可以是多列），这种子查询称为行子查询。")]),t._v(" "),s("p",[t._v("常用的操作符："),s("code",[t._v("=")]),t._v(" 、"),s("code",[t._v("<>")]),t._v(" ("),s("code",[t._v("!=")]),t._v(")、"),s("code",[t._v("in")]),t._v(" 、"),s("code",[t._v("not in")])]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" gender"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" salary\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" gender"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" gender "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("like")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'唐%'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("name")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("gender")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("唐僧")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("男")])])])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("表子查询")])]),t._v(" "),s("p",[t._v("子查询返回的结果是多行多列，这种子查询称为表子查询。")]),t._v(" "),s("p",[t._v("常用的操作符："),s("code",[t._v("in")])]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 需求：查询入职日期是'2011-11-11'之后的员工信息和部门信息，使用子查询")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" join_date "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2011-11-11'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     dept d\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dep_id "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("did"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("p",[t._v("表子查询结果为")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("id")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("name")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("gender")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("salary")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("join_date")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("dep_id")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("1")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("孙悟空")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("男")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("7200")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2013-02-24")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("1")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("4")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("白骨精")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("女")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("5000")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2015-10-07")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("3")])])])])])])])}),[],!1,null,null,null);s.default=n.exports}}]);