(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{364:function(t,e,s){"use strict";s.r(e);var a=s(14),l=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"redis使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#redis使用"}},[t._v("#")]),t._v(" Redis使用")]),t._v(" "),e("h2",{attrs:{id:"redis数据类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#redis数据类型"}},[t._v("#")]),t._v(" Redis数据类型")]),t._v(" "),e("p",[t._v("Redis 有5种常用数据类型(说的是value的数据类型)")]),t._v(" "),e("p",[t._v("Redis存储的是key-value结构的数据，其中key是字符串类型，value有5种常用的数据类型")]),t._v(" "),e("ul",[e("li",[t._v("字符串 String：普通字符串，常用")]),t._v(" "),e("li",[t._v("哈希 Hash：适合存储对象")]),t._v(" "),e("li",[t._v("列表 List：按照插入顺序排序，可以有重复元素")]),t._v(" "),e("li",[t._v("集合 Set：无序集合，没有重复元素")]),t._v(" "),e("li",[t._v("有序集合 Sorted Set：有序集合，没有重复元素")])]),t._v(" "),e("h2",{attrs:{id:"redis常用命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#redis常用命令"}},[t._v("#")]),t._v(" Redis常用命令")]),t._v(" "),e("h3",{attrs:{id:"字符串-string的操作命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#字符串-string的操作命令"}},[t._v("#")]),t._v(" 字符串 String的操作命令")]),t._v(" "),e("p",[t._v("Redis 中字符串类型常用命令：")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("命令")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("作用")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("set key value")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("设置指定key的值")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("get key")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("获取指定key的值")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("setex key 时间(秒) value")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("设置指定key的值，并将 key 的过期时间设为 多少秒")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("setnx key value")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("只有在 key 不存在时设置 key 的值")])])])]),t._v(" "),e("p",[t._v("命令练习")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('set name zhangsan\nOK\nget name\n"zhangsan"\nget age\n(nil)\nsetex address 20 HuBei\nget address\n"HuBei"\nget address\n(nil)\nsetnx sex 1\n(integer) 1\nget sex\n"1"\nsetnx sex 2\n(integer) 0\nget sex\n"1"\n')])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br")])]),e("h3",{attrs:{id:"哈希-hash-操作命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#哈希-hash-操作命令"}},[t._v("#")]),t._v(" 哈希 hash 操作命令")]),t._v(" "),e("p",[t._v("Redis hash 是一个 field 和 value 的映射表，hash特别适合用于存储值对象Value Object，常用命令：")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("命令")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("作用")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("hset key field value")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("将哈希表 key 中的字段 field 的值设为 value")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("hget key field")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("获取存储在哈希表中指定字段的值")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("hdel key field")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("删除存储在哈希表中的指定字段")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("hkeys key")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("获取哈希表中所有字段")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("hvals key")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("获取哈希表中所有值")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("hgetall key")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("获取在哈希表中指定 key 的所有字段和值")])])])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://raw.githubusercontent.com/demo223/pictures/master/img/redis%E4%B8%ADHash%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.png",alt:"redis中Hash数据类型"}})]),t._v(" "),e("p",[e("img",{attrs:{src:"https://raw.githubusercontent.com/demo223/pictures/master/img/image-20221213173652422.png",alt:"image-20221213173652422"}})]),t._v(" "),e("h3",{attrs:{id:"列表-list-操作命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#列表-list-操作命令"}},[t._v("#")]),t._v(" 列表 list 操作命令")]),t._v(" "),e("p",[t._v("Redis的列表(list)是一种线性的有序结构，可以按照元素被推入列表中的顺序来存储元素，这些元素既可以是文字数据也可以是二进制数据，并且列表中的元素可以重复出现。")]),t._v(" "),e("p",[t._v("Redis为列表提供了丰富的操作命令，通过这些命令用户可以： 将新元素推出列表的左端或者右端。 移除位于列表最左端或者最右端的元素。")]),t._v(" "),e("ul",[e("li",[t._v("列表中的元素可以重复出现")]),t._v(" "),e("li",[t._v("可以将新元素推出列表的左端或者右端")]),t._v(" "),e("li",[t._v("可以移除位于列表最左端或者最右端的元素")])]),t._v(" "),e("p",[t._v("Redis 列表是简单的字符串列表（链表），按照插入顺序排序，常用命令：")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("命令")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("作用")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("lpush key value1 [value2] [...]")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("将一个或多个值插入到列表头部")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("lrange key start stop")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("获取列表指定范围内的元素")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("rpop key")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("移除并获取列表最后一个元素")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("llen key")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("获取列表长度")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("brpop key1 [key2] timeout")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("移出并获取列表的最后一个元素， 如果列表没有元素"),e("br"),t._v("会阻塞列表直到等待超时或发现可弹出元素为止")])])])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://raw.githubusercontent.com/demo223/pictures/master/img/image-20221213201029437.png",alt:"image-20221213201029437"}})]),t._v(" "),e("blockquote",[e("ul",[e("li",[t._v("lpush\t将元素推入到列表左端")]),t._v(" "),e("li",[t._v("rpush    将元素推入到列表右端")]),t._v(" "),e("li",[t._v("lpushx、rpushx   只对"),e("strong",[t._v("已存在的列表")]),t._v("执行插入操作")]),t._v(" "),e("li",[t._v("lpop    移除列表最左端的元素并返回")]),t._v(" "),e("li",[t._v("rpop    移除列表最右端的元素并返回")])]),t._v(" "),e("p",[t._v("lpushx、rpushx 和 lpush、rpush 的不同的是")]),t._v(" "),e("p",[t._v("前者必须在列表存在的情况下才可以插入，否则报错")]),t._v(" "),e("p",[t._v("后者如果列表不存在则会先生成列表再执行插入操作")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://raw.githubusercontent.com/demo223/pictures/master/img/image-20221213205215333.png",alt:"image-20221213205215333"}})]),t._v(" "),e("h3",{attrs:{id:"集合-set-操作命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#集合-set-操作命令"}},[t._v("#")]),t._v(" 集合 set 操作命令")]),t._v(" "),e("p",[t._v("Redis set 是string类型的无序集合。集合成员是唯一的，这就意味着集合中不能出现重复的数据，常用命令：")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("命令")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("作用")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("sadd key member1 [member2] [...]")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("向集合"),e("strong",[t._v("添加")]),t._v("一个或多个成员")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("smembers key")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("返回集合中的"),e("strong",[t._v("所有成员")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("scard key")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("获取集合的"),e("strong",[t._v("成员数")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("sinter key1 [key2] [...]")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("返回给定所有集合的"),e("strong",[t._v("交集")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("sunion key1 [key2] [...]")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("返回所有给定集合的"),e("strong",[t._v("并集")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("sdiff key1 [key2]")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("返回给定所有集合的"),e("strong",[t._v("差集")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("srem key member1 [member2]")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("移除")]),t._v("集合中一个或多个成员")])])])]),t._v(" "),e("h3",{attrs:{id:"有序集合-sorted-set-操作命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#有序集合-sorted-set-操作命令"}},[t._v("#")]),t._v(" 有序集合 sorted set 操作命令")]),t._v(" "),e("p",[t._v("Redis sorted set 有序集合是 "),e("strong",[t._v("string 类型元素的集合")]),t._v("，且"),e("strong",[t._v("不允许重复")]),t._v("的成员。每个元素都会关联一个double类型 的分数(score) 。redis正是通过分数来为集合中的成员进行"),e("strong",[t._v("从小到大排序")]),t._v("。有序集合的成员是唯一的，但分数却可以重复。常用命令：")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("命令")]),t._v(" "),e("th",[t._v("作用")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("zadd key score1 member1 [score1 member2] [...]")]),t._v(" "),e("td",[t._v("向有序集合添加一个或多个成员，或者更新成员的分数")])]),t._v(" "),e("tr",[e("td",[t._v("zrange key start stop [withscores]")]),t._v(" "),e("td",[t._v("通过索引区间返回有序集合中指定区间内的成员")])]),t._v(" "),e("tr",[e("td",[t._v("zincrby key increment membe")]),t._v(" "),e("td",[t._v("有序集合中对指定成员的分数加上增量increment")])]),t._v(" "),e("tr",[e("td",[t._v("zerm key number [member ...]")]),t._v(" "),e("td",[t._v("移除有序集合中的一个或多个成员")])])])]),t._v(" "),e("h3",{attrs:{id:"redis-通用命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#redis-通用命令"}},[t._v("#")]),t._v(" Redis 通用命令")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("命令")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("作用")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("keys pattern")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("查找所有符合给定模式( pattern)的 key")])]),t._v(" "),e("tr",[e("td",[t._v("exists key")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检查给定key是否存在")])]),t._v(" "),e("tr",[e("td",[t._v("type key")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("返回 key 所储存的值的类型")])]),t._v(" "),e("tr",[e("td",[t._v("ttl key")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("返回给定 key 的剩余生存时间(TTL, time to live)，以秒为单位")])]),t._v(" "),e("tr",[e("td",[t._v("del key")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("该命令用于在key存在时删除key")])]),t._v(" "),e("tr",[e("td",[t._v("flushall")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("清空数据库")])])])]),t._v(" "),e("p",[t._v("关于 "),e("code",[t._v("ttl")]),t._v(" 的返回值")]),t._v(" "),e("ul",[e("li",[t._v("ttl 默认返回 key 的剩余时间")]),t._v(" "),e("li",[t._v("ttl 返回值代表的意义：-1表示 key 永不过期，-2表示 key 已经过期")])])])}),[],!1,null,null,null);e.default=l.exports}}]);